[workspace]
members = [
    "crates/activity_indicator",
    "crates/assets",
    "crates/auto_update",
    "crates/breadcrumbs",
    "crates/call",
    "crates/cli",
    "crates/client",
    "crates/clock",
    "crates/collab",
    "crates/collab_ui",
    "crates/collections",
    "crates/command_palette",
    "crates/context_menu",
    "crates/copilot",
    "crates/copilot_button",
    "crates/db",
    "crates/diagnostics",
    "crates/drag_and_drop",
    "crates/editor",
    "crates/feedback",
    "crates/file_finder",
    "crates/fs",
    "crates/fsevent",
    "crates/fuzzy",
    "crates/git",
    "crates/go_to_line",
    "crates/gpui",
    "crates/gpui_macros",
    "crates/install_cli",
    "crates/journal",
    "crates/language",
    "crates/language_selector",
    "crates/live_kit_client",
    "crates/live_kit_server",
    "crates/lsp",
    "crates/lsp_log",
    "crates/media",
    "crates/menu",
    "crates/node_runtime",
    "crates/outline",
    "crates/picker",
    "crates/plugin",
    "crates/plugin_macros",
    "crates/plugin_runtime",
    "crates/project",
    "crates/project_panel",
    "crates/project_symbols",
    "crates/recent_projects",
    "crates/rope",
    "crates/rpc",
    "crates/search",
    "crates/settings",
    "crates/snippet",
    "crates/sqlez",
    "crates/sqlez_macros",
    "crates/staff_mode",
    "crates/sum_tree",
    "crates/terminal",
    "crates/text",
    "crates/theme",
    "crates/theme_selector",
    "crates/theme_testbench",
    "crates/util",
    "crates/vim",
    "crates/workspace",
    "crates/welcome",
    "crates/zed",
]
default-members = ["crates/zed"]
resolver = "2"

[workspace.dependencies]
anyhow = { version = "1.0.57" }
async-trait = { version = "0.1" }
ctor = { version = "0.1" }
env_logger = { version = "0.9" }
futures = { version = "0.3" }
lazy_static = { version = "1.4.0" }
log = { version = "0.4.16", features = ["kv_unstable_serde"] }
ordered-float = { version = "2.1.1" }
parking_lot = { version = "0.11.1" }
postage = { version = "0.5", features = ["futures-traits"] }
rand = { version = "0.8.5" }
regex = { version = "1.5" }
serde = { version = "1.0", features = ["derive", "rc"] }
serde_derive = { version = "1.0", features = ["deserialize_in_place"] }
serde_json = { version = "1.0", features = ["preserve_order", "raw_value"] }
smallvec = { version = "1.6", features = ["union"] }
smol = { version = "1.2" }
tempdir = { version = "0.3.7" }
thiserror = { version = "1.0.29" }
time = { version = "0.3", features = ["serde", "serde-well-known"] }
unindent = { version = "0.1.7" }

[patch.crates-io]
tree-sitter = { git = "https://github.com/tree-sitter/tree-sitter", rev = "c51896d32dcc11a38e41f36e3deb1a6a9c4f4b14" }
async-task = { git = "https://github.com/zed-industries/async-task", rev = "341b57d6de98cdfd7b418567b8de2022ca993a6e" }

# TODO - Remove when a version is released with this PR: https://github.com/servo/core-foundation-rs/pull/457
cocoa = { git = "https://github.com/servo/core-foundation-rs", rev = "079665882507dd5e2ff77db3de5070c1f6c0fb85" }
cocoa-foundation = { git = "https://github.com/servo/core-foundation-rs", rev = "079665882507dd5e2ff77db3de5070c1f6c0fb85" }
core-foundation = { git = "https://github.com/servo/core-foundation-rs", rev = "079665882507dd5e2ff77db3de5070c1f6c0fb85" }
core-foundation-sys = { git = "https://github.com/servo/core-foundation-rs", rev = "079665882507dd5e2ff77db3de5070c1f6c0fb85" }
core-graphics = { git = "https://github.com/servo/core-foundation-rs", rev = "079665882507dd5e2ff77db3de5070c1f6c0fb85" }

[profile.dev]
split-debuginfo = "unpacked"

[profile.release]
debug = true
