# Generated from xtask::workflows::run_action_checks
# Rebuild with `cargo xtask workflows`.
name: run_action_checks
env:
  CARGO_TERM_COLOR: always
  RUST_BACKTRACE: '1'
  CARGO_INCREMENTAL: '0'
on:
  pull_request:
    branches:
    - '**'
    paths:
    - .github/workflows/**
    - .github/actions/**
    - .github/actionlint.yml
    - script/**
  push:
    branches:
    - main
    - v[0-9]+.[0-9]+.x
    paths:
    - .github/workflows/**
    - .github/actions/**
    - .github/actionlint.yml
    - script/**
jobs:
  actionlint:
    if: github.repository_owner == 'zed-industries'
    runs-on: namespace-profile-2x4-ubuntu-2404
    steps:
    - name: steps::checkout_repo
      uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683
      with:
        clean: false
    - id: get_actionlint
      name: run_action_checks::download_actionlint
      run: bash <(curl https://raw.githubusercontent.com/rhysd/actionlint/main/scripts/download-actionlint.bash)
      shell: bash -euxo pipefail {0}
    - name: run_action_checks::run_actionlint
      run: |
        ${{ steps.get_actionlint.outputs.executable }} -color
      shell: bash -euxo pipefail {0}
    timeout-minutes: 60
  shellcheck:
    if: github.repository_owner == 'zed-industries'
    runs-on: namespace-profile-2x4-ubuntu-2404
    steps:
    - name: steps::checkout_repo
      uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683
      with:
        clean: false
    - name: run_action_checks::run_shellcheck
      run: ./script/shellcheck-scripts error
      shell: bash -euxo pipefail {0}
    timeout-minutes: 60
concurrency:
  group: ${{ github.workflow }}-${{ github.ref_name }}-${{ github.ref_name == 'main' && github.sha || 'anysha' }}
  cancel-in-progress: true
